# Irrigation system configuration
# The hub reads this on startup and upserts zones/sensors into the database.
#
# Sensor IDs are qualified: "<node_id>/<local_sensor_id>"
# Nodes publish local IDs (e.g. "s1"); the hub prepends the node_id.

# ── Zones ────────────────────────────────────────────────────────────

[[zones]]
zone_id = "front-lawn"
name = "Front Lawn"
min_moisture = 0.3
target_moisture = 0.5
pulse_sec = 30
soak_min = 20
max_open_sec_per_day = 180
max_pulses_per_day = 6
stale_timeout_min = 30
valve_gpio_pin = 17

[[zones]]
zone_id = "back-garden"
name = "Back Garden"
min_moisture = 0.25
target_moisture = 0.45
pulse_sec = 45
soak_min = 15
max_open_sec_per_day = 240
max_pulses_per_day = 8
stale_timeout_min = 30
valve_gpio_pin = 27

# ── Sensors ──────────────────────────────────────────────────────────

[[sensors]]
sensor_id = "node-a/s1"
node_id = "node-a"
zone_id = "front-lawn"
raw_dry = 26000
raw_wet = 12000

[[sensors]]
sensor_id = "node-a/s2"
node_id = "node-a"
zone_id = "front-lawn"
raw_dry = 26000
raw_wet = 12000

[[sensors]]
sensor_id = "node-b/s1"
node_id = "node-b"
zone_id = "back-garden"
raw_dry = 26000
raw_wet = 12000

[[sensors]]
sensor_id = "node-b/s2"
node_id = "node-b"
zone_id = "back-garden"
raw_dry = 26000
raw_wet = 12000
